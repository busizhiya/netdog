## 程序设计项目作品创作说明

### 作品名称： netdog

### 创作思想（创作背景、目的和意义）

作者是一名网络安全与计算机的爱好者,经常折腾云服务器、研究主机控制等内容.迫于经典的云服务器只具有命令行界面,且每次都需要使用ssh登陆,十分的低效且麻烦.开发本程序.
本程序针对服务器设计,以高效的(云)主机管理为目标,以安全的数据传输为基础,以强大的稳定性与高技术含量为宗旨,编写了此款软件.集成了密码登陆、加密传输、文件上传/下载、命令执行、会话交流等功能.
采用python3.8编程.本程序虽使用命令行进行控制,但创新的虚拟交互终端使操作控制十分便捷,并且具有持续管理能力.会话存储功能使每一次登陆都十分便捷.

### 创作过程（运用了哪些技术或技巧完成主题创作，哪些是得意之处）

本作品技术含量极高,运用python中的许多高级语法:

#### 1.类的思想、封装与接口

自定义的会话类,内部维护了socket实例.自动检测socket状态进行删除与提示.
在内部根据会话类型进行不同的初始化.向外部提供了封装过的管理函数.

#### 2.会话存储

对于如上的会话类,本程序结合了IO操作与网络编程,将会话信息以JSON格式保存在本地,以方便下次直接连接服务器.简化了程序的操作流程,减小了使用难度.

#### 3.多线程处理

同时持有多个会话,每一个会话单独创建一个线程进行管理,互不干扰.

#### 4.socket网络编程

使用TCP进行传输.Socket可以说是本程序的精髓所在,对socket的状态、内容、信息进行处理,建立可靠灵活的socket管理,并对各种情况进行处理,适应各种网络环境.

#### 5.异常处理

程序因涉及到网络,故异常与突发状况较多.故采用多级分类的异常处理模块,对不同类型的异常进行不同的处理,对症下药,增加了程序的健壮性.

#### 6.指令性

对于复杂而多种多样的操作,每一条信息都归属于一个大的操作模块,而不同的操作有不同的执行.每条指令都以[EOF]结尾,并与封装性结合,提供读取接口,在编码时十分方便.

#### 7.编码自适应/转换

跨平台可以说是所有软件都无法避免的一个难题.对于windows常用的gbk与linux广泛使用的utf-8两种编码,本程序拥有编码自适应的功能,不用害怕跨平台乱码了!

#### 8.加密&解密

本程序不但拥有逻辑上的登陆密码,还有物理传输层面的加密.对于每一个会话都会生成一个独一无二的密钥进行加密,每一次传输都会先进行加密,在接收端再进行解密,避免了传输过程中的信息泄露或中间人攻击,极大地增强了安全性

#### 9.DEBUG模式

本程序共有900余行代码,按理来说维护十分困难.万幸,本程序提供了DEBUG模式,对于各部分的错误与信息进行输出与调试,极大减少了二次开发的成本.

#### 10.多操作系统自适应

此优势与第(7)条有异曲同工之妙.程序会自动根据当前的操作系统,进行相应的自适应操作,增加了跨平台的能力.

#### 11.虚拟终端

交互式的虚拟终端,模仿shell进行改进,极大增强了用户的操作手感.与此同时,本程序配有完善的信息提示系统,随时告知使用者当前事件.其中提供了些许自定义的功能指令,但却没有过多地增加原版shell的内容,可加以改进.
12.命令行参数获取
如上,本程序虽提供了虚拟终端,但为了方便外部脚本的调用,本程序也提供了必要的参数,增强了与外界的交流性.

#### 13.动态类调用

对于如上的虚拟终端,本程序使用了动态类调用的技术,极大地减少了代码的冗余度,增加了代码效率,遵守了了python程序的设计理念(python之禅)

#### 14.MVC设计模式

Model、View、Controller.此理念源自Java的学习中,结合了面向对象的思想.会话类则是其中的Model封装了对外的接口.View则是强大的提示系统、DEBUG模式与编码系统,对各种信息进行处理输出.Controller是本程序中的holder函数.对各种指令进行集中操作与管理.

### 原创部分

虚拟终端、指令性传输、传输加密、DEBUG模式、编码自适应、会话存储、操作系统自适应.

### 参考资源（参考或引用他人资源及出处）

《Python黑帽子编程》

### 制作用软件及运行环境

MacOs PyCharm
Python3.8
跨平台

### 其他说明（需要特别说明的问题）

#### 1.建议密码不要设置为中文,在文件传输时会有问题.

#### 2.请使用Python3运行此脚本.请注意终端的编码模式

#### 3.上传/下载文件请不要选择大文件进行测试,内存会溢出.

默认监听端口:33445



### 1.命令行参数

```markdown
usage:
        -h,--help   -->  帮助
        -t,--target -->  设置目标主机地址
        -p,--port   -->  设置目标主机端口
        -l,--listen -->  开启监听模式
        -d,--debug  -->  开启debug模式
        -k,--key    -->  设置登陆密码
```

### 2.服务端交互命令

```markdown
服务端使用说明:
        help          -->  帮助
        disconnect,disc  -->  断开连接
        session       -->  会话管理
                -l,--list    -->   列出所有会话
                -c,--change  -->   更改持有会话
        mode          -->  更改模式
                -t,--talk    -->   对话模式
        key           -->  登陆密码管理
                -s,--set   -->    设置密码
                -l,--list  -->    显示密码
                -c,--close -->    关闭密码登陆(无需密码登录)
```

### 3.客户端交互命令

```markdown
客户端使用说明:
        help          -->  帮助
        disconnect,disc      -->  断开连接
                -i,--id         -->  选择要断开的会话id(默认为当前持有会话)
        backgroud,bg  -->  后台模式
        session       -->  会话管理
                -l,--list    -->   列出所有会话
                -c,--change  -->   更改持有会话
        mode          -->  更改模式
                -t,--talk    -->    对话模式
                -s,--shell   -->    shell模式
        connect     -->  连接到远程主机
                -t,--target     -->   设置目标主机地址 (默认为--127.0.0.1)
                -p,--port       -->   设置目标主机端口 (默认为-33445)
                -P,--password   -->   使用密码登陆目标主机
        upload   `FILENAME` -->   上传文件
        download `FILENAME` -->   下载文件
```


